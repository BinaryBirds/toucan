<!DOCTYPE html>
<html >
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>UIColor best practices in Swift - </title>
    <meta name="description" content="Learn what are color models, how to convert hex values to UIColor and back, generate random colors, where to find beautiful palettes.">
    
    <meta property="og:url" content="/posts/uicolor-best-practices-in-swift/">
    <meta property="og:title" content="UIColor best practices in Swift - ">
    <meta property="og:description" content="Learn what are color models, how to convert hex values to UIColor and back, generate random colors, where to find beautiful palettes.">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="UIColor best practices in Swift - ">
    <meta name="twitter:description" content="Learn what are color models, how to convert hex values to UIColor and back, generate random colors, where to find beautiful palettes.">
    
    <link rel="stylesheet" href="/css/global.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/syntax.css">

    <link rel="shortcut icon" href="/images/icons/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/images/icons/icon-320.png" type="image/png">
    
    <link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-touch-icon-180x180.png">

</head>

<body>
    <header id="navigation">
        <a id="site-logo" href="">
            <figure>
                <picture>
                    <source
                        srcset="/images/logos/logo~dark.png"
                        media="(prefers-color-scheme: dark)"
                    >
                    <img
                        id="logo-image"
                        src="/images/logos/logo.png"
                        alt="Logo of "
                        title=""
                    >
                </picture>
            </figure>
        </a>
    
        <nav id="primary-menu">
            <input type="checkbox" id="primary-menu-button" name="menu-button" class="menu-button">
            <label for="primary-menu-button">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </label>
            <div class="menu-items">
                <a href="/">Home</a>
                <a href="/blog/">Blog</a>
                <a href="/posts/pages/1/">Posts</a>
                <a href="/authors/">Authors</a>
                <a href="/tags/">Tags</a>
                <a href="/my-page/">My page</a>
            </div>
        </nav>
    
        <nav id="secondary-menu">
            <input type="checkbox" id="secondary-menu-button" name="menu-button" class="menu-button">
            <label for="secondary-menu-button">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="1"></circle>
                    <circle cx="12" cy="5" r="1"></circle>
                    <circle cx="12" cy="19" r="1"></circle>
                </svg>
            </label>
            <div class="menu-items right">
                <a href="#">My account</a>
                <a href="/">Logout</a>
            </div>
        </nav>
    </header>
        
    <main>

<article>
    <header>
        <section id="post-header" class="content-wrapper">
            <time datetime="2018-05-03 16:20:00">2018-05-03 16:20:00</time>
            <h1 class="title">UIColor best practices in Swift</h1>
            <p class="excerpt">Learn what are color models, how to convert hex values to UIColor and back, generate random colors, where to find beautiful palettes.</p>
        </section>
        
    </header>

    <section id="contents" class="content-wrapper">
    
    <h2>What are color models and color spaces?</h2><p>A <a href="http://www.wowarea.com/english/help/color.htm" target="_blank">color model</a> is a method of describing a color.</p><ul><li>RGB - Red+Green+Blue</li><li>HSB - Hue+Saturation+Brightness</li></ul><p>There are several other color models, but if you are dealing with iOS colors you should be familiar with these two above. Usually you are going to work with the RGBA & HSBA color models which are basically the same as above extended with the alpha channel where the letter A stands for that. üòâ</p><p>A <a href="https://photo.stackexchange.com/questions/48984/what-is-the-difference-or-relation-between-a-color-model-and-a-color-space" target="_blank">color space</a> is the set of colors which can be displayed or reproduced in a medium (whether stored, printed or displayed). For example, sRGB is a particular set of intensities for red, green and blue and defines the colors that can be reproduced by mixing those ranges of red, green and blue.</p><p>Enough from the theory, let‚Äôs do some color magic! üí´üí´üí´</p><h2>How to work with UIColor objects using RGBA and HSBA values in Swift?</h2><p>Do you remember the old <a href="http://tanner.xyz/" target="_blank">Paint</a> program from old-school Windows times?</p><p>I‚Äôve used Microsoft Paint a lot, and I loved it. üòÖ</p><p>Back then without any CS knowledge I was always wondering about the numbers between 0 and 255 that I had to pick. If you are working with RGB colors you usually define your color the same way, except that in iOS the values are between 0 and 1, but that‚Äôs just a different representation of the fraction of 255.</p><p>So you can make a color with RGB codes using the same logic.</p><pre><code class="language-swift">UIColor(
    red: CGFloat(128)/CGFloat(255),
    green: CGFloat(128)/CGFloat(255),
    blue: CGFloat(128)/CGFloat(255),
    alpha: 1
)
// this is just about the same gray color but it's more readable
UIColor(red: 0.5, green: 0.5, blue: 0.5, alpha: 1)
</code></pre><p>See? Pretty easy, huh? üëç</p><p>Alternatively you can use HSB values, almost the same logic applies for those values, except that hue goes from 0 ‚Äôtil 360 (because of the actual color wheel), however saturation and brightness are measured in a ‚Äúpercent like‚Äù format 0-100, so you have to think about these numbers if you map them to floating point values.</p><pre><code class="language-swift">UIColor(hue: CGFloat(120)/CGFloat(360), saturation: 0.5, brightness: 0.5, alpha: 1)
UIColor(hue: 0.3, saturation: 0.5, brightness: 0.5, alpha: 1)
</code></pre><p>Now let‚Äôs reverse the situation and let me show you how to get back these components from an actual UIColor instance with the help of an extension.</p><pre><code class="language-swift">public extension UIColor {
    public var rgba: (red: CGFloat, green: CGFloat, blue: CGFloat, alpha: CGFloat) {
        var r: CGFloat = 0
        var g: CGFloat = 0
        var b: CGFloat = 0
        var a: CGFloat = 0
        self.getRed(&r, green: &g, blue: &b, alpha: &a)
        return (r, g, b, a)
    }

    public var hsba: (hue: CGFloat, saturation: CGFloat, brightness: CGFloat, alpha: CGFloat) {
        var h: CGFloat = 0
        var s: CGFloat = 0
        var b: CGFloat = 0
        var a: CGFloat = 0
        self.getHue(&h, saturation: &s, brightness: &b, alpha: &a)
        return (h, s, b, a)
    }
}
</code></pre><p>So here it is how to read the red, green blue slash hue saturation brightness and alpha components from a UIColor. With this little neat extension you can simply get the component values and use them through their proper names.</p><pre><code class="language-swift">UIColor.yellow.rgba.red
UIColor.yellow.hsba.hue
</code></pre><h2>How to convert HEX colors to RGB and vica versa for UIColor objects in Swift?</h2><p>iOS developer 101 course, first questions:</p><ul><li>How the fuck can I create a UIColor from a hex string?</li><li>How to convert a hex color to a UIColor?</li><li>How to use a hext string to make a UIColor?</li></ul><p>Ok, maybe these are not the first questions, but it‚Äôs definitely inside common ones. The answer is pretty simple: through an extension. I have a really nice solution for your needs, which will handle most of the cases like using only 1, 2, 3 or 6 hex values.</p><pre><code class="language-swift">public extension UIColor {

    public convenience init(hex: Int, alpha: CGFloat = 1.0) {
        let red = CGFloat((hex & 0xFF0000) >> 16) / 255.0
        let green = CGFloat((hex & 0xFF00) >> 8) / 255.0
        let blue = CGFloat((hex & 0xFF)) / 255.0

        self.init(red: red, green: green, blue: blue, alpha: alpha)
    }

    public convenience init(hex string: String, alpha: CGFloat = 1.0) {
        var hex = string.trimmingCharacters(in: .whitespacesAndNewlines).uppercased()

        if hex.hasPrefix("#") {
            let index = hex.index(hex.startIndex, offsetBy: 1)
            hex = String(hex[index...])
        }

        if hex.count < 3 {
            hex = "\(hex)\(hex)\(hex)"
        }

        if hex.range(of: "(^[0-9A-Fa-f]{6}$)|(^[0-9A-Fa-f]{3}$)", options: .regularExpression) != nil {
            if hex.count == 3 {

                let startIndex = hex.index(hex.startIndex, offsetBy: 1)
                let endIndex = hex.index(hex.startIndex, offsetBy: 2)

                let redHex = String(hex[..<startIndex])
                let greenHex = String(hex[startIndex..<endIndex])
                let blueHex = String(hex[endIndex...])

                hex = redHex + redHex + greenHex + greenHex + blueHex + blueHex
            }

            let startIndex = hex.index(hex.startIndex, offsetBy: 2)
            let endIndex = hex.index(hex.startIndex, offsetBy: 4)
            let redHex = String(hex[..<startIndex])
            let greenHex = String(hex[startIndex..<endIndex])
            let blueHex = String(hex[endIndex...])

            var redInt: CUnsignedInt = 0
            var greenInt: CUnsignedInt = 0
            var blueInt: CUnsignedInt = 0

            Scanner(string: redHex).scanHexInt32(&redInt)
            Scanner(string: greenHex).scanHexInt32(&greenInt)
            Scanner(string: blueHex).scanHexInt32(&blueInt)

            self.init(red: CGFloat(redInt) / 255.0,
                      green: CGFloat(greenInt) / 255.0,
                      blue: CGFloat(blueInt) / 255.0,
                      alpha: CGFloat(alpha))
        }
        else {
            self.init(red: 0.0, green: 0.0, blue: 0.0, alpha: 0.0)
        }
    }

    var hexValue: String {
        var color = self

        if color.cgColor.numberOfComponents < 4 {
            let c = color.cgColor.components!
            color = UIColor(red: c[0], green: c[0], blue: c[0], alpha: c[1])
        }
        if color.cgColor.colorSpace!.model != .rgb {
            return "#FFFFFF"
        }
        let c = color.cgColor.components!
        return String(format: "#%02X%02X%02X", Int(c[0]*255.0), Int(c[1]*255.0), Int(c[2]*255.0))
    }
}
</code></pre><p>Here is how you can use it with multiple input variations:</p><pre><code class="language-swift">let colors = [
    UIColor(hex: "#cafe00"),
    UIColor(hex: "cafe00"),
    UIColor(hex: "c"),
    UIColor(hex: "ca"),
    UIColor(hex: "caf"),
    UIColor(hex: 0xcafe00),
]
let values = colors.map { $0.hexValue }
print(values) //["#CAFE00", "#CAFE00", "#CCCCCC", "#CACACA", "#CCAAFF", "#CAFE00"]
</code></pre><p>As you can see I‚Äôve tried to replicate the behavior of the CSS rules, so you will have the freedom of less characters if a hext string is like #ffffff (you can use just f, because # is optional). Also you can provide integers as well, that‚Äôs just a simple ‚Äúoverloaded‚Äù convenience init method.</p><p>Also <code>.hexValue</code> will return the string representation of a UIColor instance. üëèüëèüëè</p><h2>How to generate a random UIColor in Swift?</h2><p>This is also a very common question for beginners, I don‚Äôt really want to waste the space here by deep explanation, arc4random() is just doing it‚Äôs job and the output is a nice randomly generated color.</p><pre><code class="language-swift">public extension UIColor {
    public static var random: UIColor {
        let max = CGFloat(UInt32.max)
        let red = CGFloat(arc4random()) / max
        let green = CGFloat(arc4random()) / max
        let blue = CGFloat(arc4random()) / max

        return UIColor(red: red, green: green, blue: blue, alpha: 1.0)
    }
}
</code></pre><h2>How to create a 1x1 pixel big UIImage object with a single solid color in Swift?</h2><p>I‚Äôm using this trick to set the background color of a UIButton object. The reason for this is state management. If you press the button the background image will be darker, so there will be a visual feedback for the user. However by setting the background color directly of a UIButton instance won‚Äôt work like this, and the color won‚Äôt change at all on the event. üëÜ</p><pre><code class="language-swift">public extension UIColor {
    public var imageValue: UIImage {
        let rect = CGRect(origin: .zero, size: CGSize(width: 1, height: 1))
        UIGraphicsBeginImageContext(rect.size)
        let context = UIGraphicsGetCurrentContext()!
        context.setFillColor(self.cgColor)
        context.fill(rect)
        let newImage = UIGraphicsGetImageFromCurrentImageContext()
        UIGraphicsEndImageContext()
        return newImage!
    }
}
</code></pre><p>The snippet above will produce a 1x1 pixel image object from the source color. You can use that anywere, but here is my example with a button background:</p><pre><code class="language-swift">button.setBackgroundImage(UIColor.red.imageValue, for: .normal)
</code></pre><h2>Online color palettes</h2><p>You can‚Äôt find the right color? No problem, these links will help you to choose the proper one and to get some inspiration. Also if you are looking for flat UI colors or material design colors these are the right links where you should head first.</p><ul><li>HTML Color Names</li><li>Color Hunt</li><li>Flat UI Colors</li><li>flatuicolorpicker</li><li>Material Design Colors</li></ul><p>A personal thing of mine: dear designers, please never ever try to use material design principles for iOS apps. Thank you. <a href="https://developer.apple.com/ios/human-interface-guidelines/overview/themes/" target="_blank">HIG</a></p><h2>Convert colors online</h2><p>Finally there are some great online color converter tools, if you are looking for a great one, you should try these first.</p><ul><li>uicolor.xyz</li><li>rgb.to</li><li>colorizer.org</li></ul><h2>Managing UIColors</h2><p>If your app target is iOS 11+ you can use <a href="https://devblog.xero.com/managing-ui-colours-with-ios-11-asset-catalogs-16500ba48205" target="_blank">asset catalogs</a> to organize your color palettes, but if you need to go below iOS 11, I‚Äôd suggest to use an enum or struct with static UIColor properties. Nowadays I‚Äôm usually doing something like this.</p><pre><code class="language-swift">class App {
    struct Color {
        static var green: UIColor { return UIColor(hex: 0x4cd964) }
        static var yellow: UIColor { return UIColor(hex: 0xffcc00) }
        static var red: UIColor { return UIColor(hex: 0xff3b30) }
    }

    /* ... */
}

App.Color.yellow
</code></pre><p>Usually I‚Äôm grouping together fonts, colors etc inside structs, but this is just one way of doing things. You can also use something like <a href="https://github.com/mac-cain13/R.swift" target="_blank">R.swift</a> or anything that you prefer.</p><p>That‚Äôs it for now, I think I‚Äôve covered most of the basic questions about UIColor.</p><p>Feel free to contact me if you have a topic or suggestion that you‚Äôd like to see covered here in the blog. I‚Äôm always open for new ideas. üòâ</p>
        
    </section>
    
    <h2>Next</h2>
    
    <h2>Prev</h2>
        <div class="post card">
            <a href="/posts/hummingbird-routing-and-requests/" target="">
                <figure>
                    <picture>
                        <img
                            src=""
                            alt=""
                            title=""
                        >
                    </picture>
                </figure>
                <section>
                    <time datetime="2023-03-17 16:20:00">2023-03-17 16:20:00</time>
                    <h2 class="title">Hummingbird routing and requests</h2>
                </section>
                <p>Beginner&#39;s guide to learn all about routing and request handling using the Hummingbird server-side Swift framework.</p>
            </a>
        
            
            
        
        </div>
    
    <h2>Related</h2>
    Empty.
    
    <h2>More by author(s)</h2>
    Empty.

</article>

    </main>

    <footer id="page-footer">
        <section class="content-wrapper">
            <figure>
                <picture>
                    <source
                        srcset="/images/logos/logo~dark.png"
                        media="(prefers-color-scheme: dark)"
                    >
                    <img
                        id="logo-image"
                        src="/images/logos/logo.png"
                        alt="Logo of "
                        title=""
                    >
                </picture>
            </figure>
    
            <p>This site was generated using the <a href="https://swift.org/" target="_blank">Swift</a> programming language.</p>
            
            <p>
                <a href="https://binarybirds.com/">Home</a> ¬∑
                <a href="mailto:binarybirdsofficial@gmail.com">Email</a> ¬∑
                <a href="https://github.com/binarybirds/">GitHub</a> ¬∑
                <a href="https://x.com/tiborbodecs">Twitter</a> ¬∑
                <a href="/rss.xml" target="_blank">RSS</a> ¬∑
                <a href="/sitemap.xml" target="_blank">Sitemap</a>
            </p>
    
            <p class="small"> &copy; 2022 - 2024.</p>
        </section>
    </footer>
</body>
</html>
