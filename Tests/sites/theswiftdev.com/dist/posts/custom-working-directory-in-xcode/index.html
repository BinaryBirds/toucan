<!DOCTYPE html>
<html >
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Custom working directory in Xcode - </title>
    <meta name="description" content="Learn how to set a custom working directory in Xcode to solve one of the most common beginner issue when using Vapor.">
    
    <meta property="og:url" content="/posts/custom-working-directory-in-xcode/">
    <meta property="og:title" content="Custom working directory in Xcode - ">
    <meta property="og:description" content="Learn how to set a custom working directory in Xcode to solve one of the most common beginner issue when using Vapor.">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Custom working directory in Xcode - ">
    <meta name="twitter:description" content="Learn how to set a custom working directory in Xcode to solve one of the most common beginner issue when using Vapor.">
    
    <link rel="stylesheet" href="/css/global.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/syntax.css">

    <link rel="shortcut icon" href="/images/icons/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/images/icons/icon-320.png" type="image/png">
    
    <link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-touch-icon-180x180.png">

</head>

<body>
    <header id="navigation">
        <a id="site-logo" href="">
            <figure>
                <picture>
                    <source
                        srcset="/images/logos/logo~dark.png"
                        media="(prefers-color-scheme: dark)"
                    >
                    <img
                        id="logo-image"
                        src="/images/logos/logo.png"
                        alt="Logo of "
                        title=""
                    >
                </picture>
            </figure>
        </a>
    
        <nav id="primary-menu">
            <input type="checkbox" id="primary-menu-button" name="menu-button" class="menu-button">
            <label for="primary-menu-button">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </label>
            <div class="menu-items">
                <a href="/">Home</a>
                <a href="/blog/">Blog</a>
                <a href="/posts/pages/1/">Posts</a>
                <a href="/authors/">Authors</a>
                <a href="/tags/">Tags</a>
                <a href="/about/">About</a>
            </div>
        </nav>
    
        <nav id="secondary-menu">
            <input type="checkbox" id="secondary-menu-button" name="menu-button" class="menu-button">
            <label for="secondary-menu-button">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="1"></circle>
                    <circle cx="12" cy="5" r="1"></circle>
                    <circle cx="12" cy="19" r="1"></circle>
                </svg>
            </label>
            <div class="menu-items right">
                <a href="#">My account</a>
                <a href="/">Logout</a>
            </div>
        </nav>
    </header>
        
    <main>

<article>
    <header>
        <section id="post-header" class="content-wrapper">
            <time datetime="2021-01-07 16:20:00">2021-01-07 16:20:00</time>
            <h1 class="title">Custom working directory in Xcode</h1>
            <p class="excerpt">Learn how to set a custom working directory in Xcode to solve one of the most common beginner issue when using Vapor.</p>
        </section>
        
    </header>

    <section id="contents" class="content-wrapper">
    
    <h2>What is a custom working directory?</h2><p>When you try to build and run your Vapor application using Xcode you might face the issue that there are some missing files, resources or Leaf templates. Don‚Äôt worry this is a very common rookie mistake, but what causes this problem exactly? ü§î</p><p>Vapor is using a place called working directory to set the current environment, locate common resources and publicly available files. This working directory usually contains a Resources folder where you can put your Leaf templates and a Public folder which is used by the <a href="https://docs.vapor.codes/4.0/middleware/#file-middleware" target="_blank">FileMiddleware</a>. The server is also trying to search for possible <a href="https://docs.vapor.codes/4.0/environment/" target="_blank">dotenv</a> files to configure environmental variables.</p><p>If you run your backend application without explicitly setting a custom working directory, you should see a warning message in Xcode‚Äôs console. If you are using <a href="https://github.com/feathercms/feather/" target="_blank">Feather CMS</a>, the app will crash without a custom working directory set, because it is required to provide a working environment. üôÉ</p><p><img src="warning-no-custom-working-directory-set.png" alt="No custom working directory"></p><p>If you don‚Äôt specify this custom work dir, Xcode will try to look for the resources under a random, but uniquely created place somewhere under the <code>DerivedData</code> directory.</p><p>This is the internal build folder for the IDE, it usually creates lots of other ‚Äúgarbage‚Äù files into the <code>~/Library/Developer/Xcode/DerivedData</code> directory. In 99% of the cases you can safely delete its contents if you want to perform a 100% clean build. üëç</p><h2>How to set a custom working directory?</h2><p>First of all, open your project in Xcode by double clicking the Package.swift manifest file.</p><blockquote><p>WARN: Do NOT use the <code>swift package generate-xcodeproj</code> command to generate a project file!!! This is a deprecated Swift Package Manager command, and it‚Äôs going to be removed soon.</p></blockquote><p>‚úÖ I repeat: always open SPM projects through the <code>Package.swift</code> file.</p><p><img src="target.png" alt="Target"></p><p>Wait until the IDE loads the required Swift packages. After the dependencies are loaded, click on the target next to the stop button. The executable target is marked with a little terminal-like icon. üí°</p><p><img src="edit-scheme.png" alt="Edit scheme"></p><p>Select the ‚ÄúEdit Scheme‚Ä¶‚Äù option from the available menu items, this should open a new modal window on top of Xcode.</p><p><img src="custom-working-directory.png" alt="Custom working directory"></p><p>Make sure that the Run configuration is selected on the left side of the pane. Click on the ‚ÄúOptions‚Äù tab, and then look for the ‚ÄúWorking directory‚Äù settings. Check the ‚ÄúUse custom working directory:‚Äù toggle, this will enable the input field underneath, then finally click on the little folder icon on the top right side (of the input field) and look for your desired directory using the interface. üîç</p><p>Press the ‚ÄúChoose‚Äù button when you are ready. You should see the path of your choice written inside the text field. Make sure that you‚Äôve selected the right location. Now you can click the ‚ÄúClose‚Äù button on the bottom right corner, then you can try to start your server by clicking the run button (play icon or you can press the CMD+R shortcut to run the app). ‚ñ∂Ô∏è</p><p>If you did everything right, your Vapor server application should use the custom working directory, you can confirm this by checking the logs in Xcode. The previously mentioned warning should disappear and your backend should be able to load all the necessary resources without further issues. I hope this little guide will help you to avoid this common mistake when using Vapor. üôè</p>
        
    </section>
    
    <h2>Next</h2>
    
    <h2>Prev</h2>
        <div class="post card">
            <a href="/posts/hummingbird-routing-and-requests/" target="">
                <figure>
                    <picture>
                        <img
                            src=""
                            alt=""
                            title=""
                        >
                    </picture>
                </figure>
                <section>
                    <time datetime="2023-03-17 16:20:00">2023-03-17 16:20:00</time>
                    <h2 class="title">Hummingbird routing and requests</h2>
                </section>
                <p>Beginner&#39;s guide to learn all about routing and request handling using the Hummingbird server-side Swift framework.</p>
            </a>
        
            
            
        
        </div>
    
    <h2>Related</h2>
    Empty.
    
    <h2>More by author(s)</h2>
    Empty.

</article>

    </main>

    <footer id="page-footer">
        <section class="content-wrapper">
            <figure>
                <picture>
                    <source
                        srcset="/images/logos/logo~dark.png"
                        media="(prefers-color-scheme: dark)"
                    >
                    <img
                        id="logo-image"
                        src="/images/logos/logo.png"
                        alt="Logo of "
                        title=""
                    >
                </picture>
            </figure>
    
            <p>This site was generated using the <a href="https://swift.org/" target="_blank">Swift</a> programming language.</p>
            
            <p>
                <a href="https://binarybirds.com/">Home</a> ¬∑
                <a href="mailto:binarybirdsofficial@gmail.com">Email</a> ¬∑
                <a href="https://github.com/binarybirds/">GitHub</a> ¬∑
                <a href="https://x.com/tiborbodecs">Twitter</a> ¬∑
                <a href="/rss.xml" target="_blank">RSS</a> ¬∑
                <a href="/sitemap.xml" target="_blank">Sitemap</a>
            </p>
    
            <p class="small"> &copy; 2022 - 2024.</p>
        </section>
    </footer>
</body>
</html>
